<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞—Ä—Ç –¢–∞—Ä–æ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1a1a2e;
            color: white;
            padding: 20px;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .image-test {
            display: inline-block;
            margin: 10px;
            text-align: center;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
        }
        .test-image {
            width: 120px;
            height: 180px;
            border: 2px solid #ffd700;
            border-radius: 8px;
            object-fit: cover;
        }
        .image-info {
            margin-top: 10px;
            font-size: 12px;
        }
        .status {
            padding: 5px 10px;
            border-radius: 5px;
            margin-top: 5px;
            font-weight: bold;
        }
        .status.loading { background: #ffa500; }
        .status.success { background: #4caf50; }
        .status.error { background: #f44336; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üÉè –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞—Ä—Ç –¢–∞—Ä–æ</h1>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫ Google Drive —Ä–∞–±–æ—Ç–∞—é—Ç:</p>
        
        <div id="testResults"></div>
        
        <h2>üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h2>
        <div id="summary"></div>
    </div>

    <script>
        // –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –∏–∑ cards.json
        const testImages = [
            {
                name: "–î—É—Ä–∞–∫ (–æ—Ä–∏–≥–∏–Ω–∞–ª)",
                url: "https://drive.google.com/uc?export=view&id=1GwjJI6U9-O0g5bkNfYehU1sBFK7alKHc"
            },
            {
                name: "–î—É—Ä–∞–∫ (thumbnail)",
                url: "https://drive.google.com/thumbnail?id=1GwjJI6U9-O0g5bkNfYehU1sBFK7alKHc&sz=w400"
            },
            {
                name: "–ú–∞–≥ (–æ—Ä–∏–≥–∏–Ω–∞–ª)",
                url: "https://drive.google.com/uc?export=view&id=159xF6IrCRTZBBSNOb7nmTXc6tzvWVB7R"
            },
            {
                name: "–ú–∞–≥ (thumbnail)",
                url: "https://drive.google.com/thumbnail?id=159xF6IrCRTZBBSNOb7nmTXc6tzvWVB7R&sz=w400"
            },
            {
                name: "Placeholder 1",
                url: "https://via.placeholder.com/180x270/4B0082/FFD700?text=üîÆ+–î—É—Ä–∞–∫"
            },
            {
                name: "Placeholder 2",
                url: "https://via.placeholder.com/180x270/4B0082/FFD700?text=‚≠ê+–ó–≤–µ–∑–¥–∞"
            }
        ];

        const results = [];
        const testContainer = document.getElementById('testResults');

        function createImageTest(testImage, index) {
            const testDiv = document.createElement('div');
            testDiv.className = 'image-test';
            
            const img = document.createElement('img');
            img.className = 'test-image';
            img.alt = testImage.name;
            
            const info = document.createElement('div');
            info.className = 'image-info';
            info.innerHTML = `<strong>${testImage.name}</strong>`;
            
            const status = document.createElement('div');
            status.className = 'status loading';
            status.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
            
            testDiv.appendChild(img);
            testDiv.appendChild(info);
            testDiv.appendChild(status);
            testContainer.appendChild(testDiv);

            // –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            img.onload = () => {
                status.className = 'status success';
                status.textContent = '‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ';
                results[index] = { ...testImage, status: 'success' };
                updateSummary();
            };

            img.onerror = () => {
                status.className = 'status error';
                status.textContent = '‚ùå –û—à–∏–±–∫–∞';
                results[index] = { ...testImage, status: 'error' };
                updateSummary();
            };

            img.src = testImage.url;
        }

        function updateSummary() {
            const summary = document.getElementById('summary');
            const completed = results.filter(r => r).length;
            const successful = results.filter(r => r && r.status === 'success').length;
            const failed = results.filter(r => r && r.status === 'error').length;

            summary.innerHTML = `
                <p><strong>–ü—Ä–æ–≥—Ä–µ—Å—Å:</strong> ${completed}/${testImages.length}</p>
                <p><strong>–£—Å–ø–µ—à–Ω–æ:</strong> ${successful}</p>
                <p><strong>–û—à–∏–±–æ–∫:</strong> ${failed}</p>
                ${completed === testImages.length ? '<p><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</strong></p>' : ''}
            `;

            if (completed === testImages.length) {
                console.log('üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:', results);
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
        testImages.forEach((testImage, index) => {
            createImageTest(testImage, index);
        });
    </script>
</body>
</html>
